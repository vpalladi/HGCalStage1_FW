# Constraints specific to '690 MP7

INST infra/eth/phy/*/gthe2_i LOC=GTHE2_CHANNEL_X1Y36;

##-------------------------------------------------------------------------------------
## Trigger Path clock domain jump from TTC based clock to link clock
##-------------------------------------------------------------------------------------

# Async output flipflops used for 240MHz to 250MHz domain crossing in Tx path
INST "*tx_clk_bridge/data_out*" TNM = "tx_cdc_downstream_ff";
# Async input flipflops for 240MHz to 250MHz clk domain crossing.
INST "*tx_clk_bridge/buf*" TNM = "tx_cdc_upstream_ff";
# Data will be latched into link clk domain after a minimum of 4.0 ns
# Data valid sampled on downstream clk rising edge, then falling edge.
# Data registered on next rising edge of downstream clk at which time it must be stable.
TIMESPEC TS_tx_cdc = FROM "tx_cdc_upstream_ff" TO "tx_cdc_downstream_ff" 4.0 ns DATAPATHONLY; 

INST ttc/clocks/mmcm LOC=MMCME2_ADV_X0Y9;

NET REFCLK* DIFF_TERM=TRUE | TNM_NET=mgtclk_125;
TIMESPEC TS_mgtclk_125 = PERIOD mgtclk_125 8ns;
NET "*/quad_wrapper_inst/txusrclk*" TNM_NET=mgtclk_250;
NET "*/quad_wrapper_inst/rxusrclk*" TNM_NET=mgtclk_250;
TIMESPEC TS_mgtclk_250 = PERIOD mgtclk_250 4ns;

AREA_GROUP ctrl RANGE=CLOCKREGION_X1Y9;
AREA_GROUP readout RANGE=CLOCKREGION_X0Y9;
#AREA_GROUP payload RANGE=SLICE_X30Y0:SLICE_X181Y449,SLICE_X0Y300:SLICE_X29Y449,SLICE_X0Y0:SLICE_X29Y199;
#AREA_GROUP payload RANGE=RAMB36_X2Y0:RAMB36_X12Y89,RAMB36_X0Y60:RAMB36_X1Y89,RAMB36_X0Y0:RAMB36_X1Y39;
#AREA_GROUP payload RANGE=RAMB18_X2Y0:RAMB18_X12Y179,RAMB18_X0Y120:RAMB18_X1Y179,RAMB18_X0Y0:RAMB18_X1Y79;
#AREA_GROUP payload RANGE=DSP48_X1Y0:DSP48_X16Y179,DSP48_X0Y120:DSP48_X0Y179,DSP48_X0Y0:DSP48_X0Y79;
AREA_GROUP payload RANGE=SLICE_X30Y0:SLICE_X181Y449;
AREA_GROUP payload RANGE=RAMB36_X2Y0:RAMB36_X12Y89;
AREA_GROUP payload RANGE=RAMB18_X2Y0:RAMB18_X12Y179;
AREA_GROUP payload RANGE=DSP48_X1Y0:DSP48_X16Y179;
#AREA_GROUP align RANGE=CLOCKREGION_X1Y4;
#AREA_GROUP align_regs RANGE=SLICE_X106Y0:SLICE_X106Y449;

NET REFCLKP<0> LOC=J35; # 217/0
NET REFCLKN<0> LOC=J36;
NET REFCLKP<1> LOC=U35; # 215/0
NET REFCLKN<1> LOC=U36;
NET REFCLKP<2> LOC=AH37; # 213/1
NET REFCLKN<2> LOC=AH38;
NET REFCLKP<3> LOC=J10; # 117/0
NET REFCLKN<3> LOC=J9;
NET REFCLKP<4> LOC=W10; # 115/1
NET REFCLKN<4> LOC=W9;
NET REFCLKP<5> LOC=AF8; # 113/0
NET REFCLKN<5> LOC=AF7;
NET REFCLKP<6> LOC=AT37; # 211/1
NET REFCLKN<6> LOC=AT38;
NET REFCLKP<7> LOC=AT8; # 111/1
NET REFCLKN<7> LOC=AT7;
NET REFCLKP<8> LOC=A35; # 219/0
NET REFCLKN<8> LOC=A36;

# Area group definitions

AREA_GROUP quad_x1y8 RANGE=SLICE_X182Y400:SLICE_X221Y449;
AREA_GROUP quad_x1y8 RANGE=RAMB18_X14Y160:RAMB18_X14Y179,RAMB18_X13Y170:RAMB18_X13Y179;
AREA_GROUP quad_x1y7 RANGE=SLICE_X182Y350:SLICE_X221Y399;
AREA_GROUP quad_x1y7 RANGE=RAMB18_X14Y140:RAMB18_X14Y159,RAMB18_X13Y140:RAMB18_X13Y149;
AREA_GROUP quad_x1y6 RANGE=SLICE_X192Y300:SLICE_X221Y349;
AREA_GROUP quad_x1y6 RANGE=RAMB18_X13Y120:RAMB18_X14Y139;
AREA_GROUP quad_x1y5 RANGE=SLICE_X182Y250:SLICE_X221Y299;
AREA_GROUP quad_x1y5 RANGE=RAMB18_X14Y100:RAMB18_X14Y119,RAMB18_X13Y110:RAMB18_X13Y119;
AREA_GROUP quad_x1y4 RANGE=SLICE_X182Y200:SLICE_X221Y249;
AREA_GROUP quad_x1y4 RANGE=RAMB18_X14Y80:RAMB18_X14Y99,RAMB18_X13Y80:RAMB18_X13Y89;
AREA_GROUP quad_x1y3 RANGE=SLICE_X192Y150:SLICE_X221Y199;
AREA_GROUP quad_x1y3 RANGE=RAMB18_X13Y60:RAMB18_X14Y79;
AREA_GROUP quad_x1y2 RANGE=SLICE_X182Y100:SLICE_X221Y149;
AREA_GROUP quad_x1y2 RANGE=RAMB18_X14Y40:RAMB18_X14Y59,RAMB18_X13Y50:RAMB18_X13Y59;
AREA_GROUP quad_x1y1 RANGE=SLICE_X182Y50:SLICE_X221Y99;
AREA_GROUP quad_x1y1 RANGE=RAMB18_X14Y20:RAMB18_X14Y39,RAMB18_X13Y20:RAMB18_X13Y29;
AREA_GROUP quad_x1y0 RANGE=SLICE_X192Y0:SLICE_X221Y49;
AREA_GROUP quad_x1y0 RANGE=RAMB18_X13Y0:RAMB18_X14Y19;
AREA_GROUP quad_x0y0 RANGE=SLICE_X0Y0:SLICE_X29Y49;
AREA_GROUP quad_x0y0 RANGE=RAMB18_X0Y0:RAMB18_X1Y19;
AREA_GROUP quad_x0y1 RANGE=SLICE_X0Y50:SLICE_X29Y99;
AREA_GROUP quad_x0y1 RANGE=RAMB18_X0Y20:RAMB18_X1Y39;
AREA_GROUP quad_x0y2 RANGE=SLICE_X0Y100:SLICE_X29Y149;
AREA_GROUP quad_x0y2 RANGE=RAMB18_X0Y40:RAMB18_X1Y59;
AREA_GROUP quad_x0y3 RANGE=SLICE_X0Y150:SLICE_X29Y199;
AREA_GROUP quad_x0y3 RANGE=RAMB18_X0Y60:RAMB18_X1Y79;
AREA_GROUP quad_x0y4 RANGE=SLICE_X0Y200:SLICE_X29Y249;
AREA_GROUP quad_x0y4 RANGE=RAMB18_X0Y80:RAMB18_X1Y99;
AREA_GROUP quad_x0y5 RANGE=SLICE_X0Y250:SLICE_X29Y299;
AREA_GROUP quad_x0y5 RANGE=RAMB18_X0Y100:RAMB18_X1Y119;
AREA_GROUP quad_x0y6 RANGE=SLICE_X0Y300:SLICE_X29Y349;
AREA_GROUP quad_x0y6 RANGE=RAMB18_X0Y120:RAMB18_X1Y139;
AREA_GROUP quad_x0y7 RANGE=SLICE_X0Y350:SLICE_X29Y399;
AREA_GROUP quad_x0y7 RANGE=RAMB18_X0Y140:RAMB18_X1Y159;
AREA_GROUP quad_x0y8 RANGE=SLICE_X0Y400:SLICE_X29Y449;
AREA_GROUP quad_x0y8 RANGE=RAMB18_X0Y160:RAMB18_X1Y179;
AREA_GROUP quad_x0y9 RANGE=SLICE_X0Y450:SLICE_X29Y499;
AREA_GROUP quad_x0y9 RANGE=RAMB18_X0Y180:RAMB18_X1Y199;
AREA_GROUP payload_0 RANGE=SLICE_X106Y400:SLICE_X180Y449;
AREA_GROUP payload_1 RANGE=SLICE_X106Y350:SLICE_X180Y399;
AREA_GROUP payload_2 RANGE=SLICE_X106Y300:SLICE_X180Y349;
AREA_GROUP payload_3 RANGE=SLICE_X106Y250:SLICE_X180Y299;
AREA_GROUP payload_4 RANGE=SLICE_X106Y200:SLICE_X180Y249;
AREA_GROUP payload_5 RANGE=SLICE_X106Y150:SLICE_X180Y199;
AREA_GROUP payload_6 RANGE=SLICE_X106Y100:SLICE_X180Y149;
AREA_GROUP payload_7 RANGE=SLICE_X106Y50:SLICE_X180Y99;
AREA_GROUP payload_8 RANGE=SLICE_X106Y0:SLICE_X180Y49;
AREA_GROUP payload_9 RANGE=SLICE_X30Y0:SLICE_X105Y49;
AREA_GROUP payload_10 RANGE=SLICE_X30Y50:SLICE_X105Y99;
AREA_GROUP payload_11 RANGE=SLICE_X30Y100:SLICE_X105Y149;
AREA_GROUP payload_12 RANGE=SLICE_X30Y150:SLICE_X105Y199;
AREA_GROUP payload_13 RANGE=SLICE_X30Y200:SLICE_X105Y249;
AREA_GROUP payload_14 RANGE=SLICE_X30Y250:SLICE_X105Y299;
AREA_GROUP payload_15 RANGE=SLICE_X30Y300:SLICE_X105Y349;
AREA_GROUP payload_16 RANGE=SLICE_X30Y350:SLICE_X105Y399;
AREA_GROUP payload_17 RANGE=SLICE_X30Y400:SLICE_X105Y449;
AREA_GROUP payload_18 RANGE=SLICE_X30Y450:SLICE_X105Y499;

#INST "datapath/align/align/*" AREA_GROUP=align; 
#INST "datapath/align/reg/*" AREA_GROUP=align; 
# Force ISE to place additional regs to improve timing in a sensible 
# location by reducing the degrees of freedom to just the Y dimension 
#INST "datapath/align/align_reg/*" AREA_GROUP=align_regs;
#INST "datapath/bc0_mon/*" AREA_GROUP=align;
